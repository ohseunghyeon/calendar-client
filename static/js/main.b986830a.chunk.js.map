{"version":3,"sources":["util/transformEventForCalendar.ts","components/MonthView.styled.tsx","constants/index.ts","services/fetch.service.ts","components/MonthView.tsx","components/WeekView.styled.tsx","components/WeekView.tsx","hooks/useEventService.ts","components/Controller.styled.tsx","components/Controller.tsx","components/EventPopup.styled.tsx","components/EventPopup.tsx","util/Portal.tsx","util/Loading.tsx","components/Calendar.tsx","App.tsx","index.tsx"],"names":["transformEventForCalendar","events","eventsObj","sort","a","b","start","forEach","event","moment","end","month","date","eventWithMoreInfo","_objectSpread","push","startTimeString","format","endTimeString","top","hour","minute","height","add","Wrapper","styled","div","_templateObject","CalendarWrapper","_templateObject2","DaysRow","_templateObject3","Day","_templateObject4","DayText","span","_templateObject5","Weeks","_templateObject6","OneWeek","_templateObject7","DateTitleWrapper","_templateObject8","DateTitle","_templateObject9","DateTitleText","h2","_templateObject10","EventsWrapper","_templateObject11","EventsInnerWrapper","_templateObject12","EventWrapper","_templateObject13","OneEventWrapper","_templateObject14","OneEvent","_templateObject15","DAYS","TIMES","fetch_service","fetch","_fetch","_x","apply","this","arguments","toString","_ref","method","body","callback","finalCb","qs","queries","concat","querystring","stringify","process","headers","Content-Type","JSON","then","response","json","error","alert","catch","message","MonthView","handleEventClick","openPopupForNewEvent","setReadyToFetch","setIsLoading","_makeDatesForMonth","weeks","heights","firstDate","startOf","lastDate","endOf","week","isSameOrBefore","m","d","isThisMonth","oneDate","dateTitle","unixtime","unix","length","day","makeDatesForMonth","_useState","useState","_useState2","Object","slicedToArray","draggingEvent","setDraggingEvent","handleDateClick","e","currentTarget","target","handleDragEnter","preventDefault","classList","handleDragLeave","remove","react_default","createElement","map","key","weekIndex","index","data-testid","Date","getMonth","getDate","onDragOver","onDrop","droppedDateUnixtime","differenceStartEnd","setFullYear","getFullYear","setMonth","setDate","fetchService","id","title","getTime","handleDrop","onDragEnter","onDragLeave","onClick","mouseEvent","className","style","onDragStart","dataTransfer","setData","handleDragStart","draggable","FiberManualRecord","fontSize","color","timeout","Container","WeekView_styled_templateObject","UpperWrapper","WeekView_styled_templateObject2","LeftEmpty","WeekView_styled_templateObject3","LeftEmptyInner","WeekView_styled_templateObject4","DateAndNumberWrapper","WeekView_styled_templateObject5","DateAndNumberEmpty","WeekView_styled_templateObject6","DateAndNumberEmptyTwo","WeekView_styled_templateObject7","DateAndNumberEmptyShort","WeekView_styled_templateObject8","DateAndNumberEmptyLong","WeekView_styled_templateObject9","DateAndNumberEmptyLongContent","WeekView_styled_templateObject10","DateAndNumberRow","WeekView_styled_templateObject11","DateAndNumberRowPresentation","WeekView_styled_templateObject12","DateAndNumberRowPresentationEmpty","WeekView_styled_templateObject13","DateAndNumberRowPresentationColumn","WeekView_styled_templateObject14","DateAndNumberRowPresentationColumnEmpty","WeekView_styled_templateObject15","DateAndNumberRowPresentationColumnH2","_templateObject16","DateAndNumberRowPresentationColumnDay","_templateObject17","DateAndNumberRowPresentationColumnNumber","_templateObject18","DateAndNumberRowPresentationColumnEmptyEnd","_templateObject19","LowerWrapper","_templateObject20","LowerInnerWrppaer","_templateObject21","TimeWrapper","_templateObject22","TimeInnner","_templateObject23","TimeInnerEmpty","_templateObject24","Time","_templateObject25","TimeString","_templateObject26","_templateObject27","EventInner","_templateObject28","EventHorizontalLineWrapper","_templateObject29","EventHorizontalLine","_templateObject30","EventInnerEmptyLeft","_templateObject31","EventColumnWrapper","_templateObject32","EventColumnBox","_templateObject33","EventColumnPresentation","_templateObject34","EventButton","_templateObject35","EventButtonContent","_templateObject36","EventButtonContentTitle","_templateObject37","EventButtonContentTitleText","_templateObject38","EventButtonContentTime","_templateObject39","EventButtonContentEnd","_templateObject40","WeekView","i","makeDatesForWeek","isDragging","setIsDragging","_useState3","_useState4","_useState5","_useState6","draggingDayIndex","setDraggingDayIndex","_useState7","_useState8","draggingTop","setDraggingTop","Math","floor","nativeEvent","offsetY","handleDragOver","dayIndex","undefined","setTimeout","handleDragEnd","startDate","_","time","WeekView_styled_EventWrapper","eventIndex","onDragEnd","opacity","useEventService","dates","mode","isLoading","setEvents","readyToFetch","useEffect","Controller_styled_templateObject","TitleWrapper","Controller_styled_templateObject2","Title","Controller_styled_templateObject3","ArrowWrapper","Controller_styled_templateObject4","MonthWeekButton","Link","Controller_styled_templateObject5","withRouter","_ref2","viewType","history","handleArrowClick","arrow","newDate","year","Controller_styled_Container","ArrowBackIos","cursor","ArrowForwardIos","startMonth","endMonth","makeTitle","to","EventPopupWrapper","EventPopup_styled_templateObject","Input","input","EventPopup_styled_templateObject2","DatePickerWrapper","EventPopup_styled_templateObject3","DatePickerStyled","DatePicker","EventPopup_styled_templateObject4","ButtonWrapper","EventPopup_styled_templateObject5","Button","button","EventPopup_styled_templateObject6","Dim","EventPopup_styled_templateObject7","EventPopup","initialStart","initialEnd","popupMode","selectedEvent","closePopup","selectedTime","handleDimClick","useCallback","setTitle","handleTitleChange","value","setHours","getHours","setStartDate","handleStartPickerChange","endDate","setEndDate","handleEndPickerChange","onChange","placeholder","selected","selectsStart","showTimeSelect","timeFormat","timeIntervals","dateFormat","timeCaption","placeholderText","selectsEnd","ModalPortal","children","el","document","getElementById","ReactDOM","createPortal","Loading_templateObject","LoadingCircle","Loading_templateObject2","Loading","Portal","Loading_Dim","Calendar_templateObject","Calendar","match","params","initialDate","_match$params","y","Number","M","_useEventService","isPopupOpen","setIsPopupOpen","setPopupMode","setSelectedTime","_useState9","_useState10","setSelectedEvent","Calendar_Container","components_Controller","components_MonthView","components_WeekView","components_EventPopup","util_Loading","App","react_router_dom","react_router","exact","path","component","from","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","render","MuiThemeProvider","src_App"],"mappings":"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","file":"static/js/main.b986830a.chunk.js","sourcesContent":["import moment from 'moment';\nimport { Event } from '../types/Event';\n\nconst PIXELS_OF_ONE_EVENT_IN_WEEK_VIEW = 48;\nconst PIXELS_BOTTOM_PADDING = 4;\n\n/**\n * Transform Events array to Events Object like\n * {\n *    month: {\n *        date: []\n *    }\n * }\n */\nconst transformEventForCalendar = (events: Event[]) => {\n  const eventsObj: any = {};\n  events\n    .sort((a, b) => a.start - b.start) // 시간 정렬\n    .forEach(event => {\n      const start = moment(event.start);\n      const end = moment(event.end);\n\n      const month = start.month();\n      const date = start.date();\n\n      const eventWithMoreInfo: any = { ...event };\n\n      if (!eventsObj[month]) {\n        eventsObj[month] = {};\n      }\n      if (!eventsObj[month][date]) {\n        eventsObj[month][date] = [];\n      }\n      eventsObj[month][date].push(eventWithMoreInfo);\n\n      eventWithMoreInfo.startTimeString = start.format('a hh시');\n      eventWithMoreInfo.endTimeString = end.format('a hh시');\n\n      // for week view\n      eventWithMoreInfo.top = (start.hour() + start.minute() / 60) * PIXELS_OF_ONE_EVENT_IN_WEEK_VIEW;\n      eventWithMoreInfo.height =\n        (end.hour() + end.minute() / 60 - (start.hour() + start.minute() / 60)) * PIXELS_OF_ONE_EVENT_IN_WEEK_VIEW - PIXELS_BOTTOM_PADDING;\n\n      start.add(1, 'day');\n    });\n\n  return eventsObj;\n};\n\nexport default transformEventForCalendar;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  flex: 1 1 auto;\n  overflow: hidden;\n  position: relative;\n`;\n\nexport const CalendarWrapper = styled.div`\n  border-left: var(--border) 1px solid;\n  background-color: #fff;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n`;\n\nexport const DaysRow = styled.div`\n  margin: 0;\n  align-items: stretch;\n  display: flex;\n  flex: none;\n  height: 20px;\n`;\n\nexport const Day = styled.div`\n  border-right: var(--border) 1px solid;\n  flex: 1 1 0%;\n  text-align: center;\n  font-family: Roboto, Arial, sans-serif;\n  text-transform: uppercase;\n  &:last-child {\n    border-right: none;\n  }\n`;\n\nexport const DayText = styled.span`\n  color: #70757a;\n  font-size: 11px;\n  font-weight: 500;\n  line-height: 20px;\n`;\n\nexport const Weeks = styled.div`\n  position: relative;\n  overflow: hidden;\n  border-bottom: var(--border) 1px solid;\n  display: flex;\n  flex: 1 1 0%;\n`;\n\nexport const OneWeek = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n`;\n\nexport const DateTitleWrapper = styled.div`\n  font-size: 14px;\n  line-height: 30px;\n  border-right: var(--border) 1px solid;\n  color: #70757a;\n  flex: 1 1 0%;\n  &:last-child {\n    border-right: none;\n  }\n  &.droppable {\n    background-color: rgba(66, 134, 244, 0.5);\n  }\n`;\n\nexport const DateTitle = styled.div`\n  width: 100%;\n  text-align: center;\n`;\n\nexport const DateTitleText = styled.h2`\n  margin-top: 8px;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 12px;\n  font-weight: 500;\n  letter-spacing: 0.3px;\n  display: inline-block;\n  text-align: center;\n  white-space: nowrap;\n  width: max-content;\n  min-width: 24px;\n  line-height: 16px;\n  &.this-month {\n    color: var(--main-text);\n  }\n`;\n\nexport const EventsWrapper = styled.div`\n  margin-top: 30px;\n  flex: 1 1 0%;\n`;\n\nexport const EventsInnerWrapper = styled.div`\n  display: flex;\n  position: relative;\n  overflow: hidden;\n  font-size: 24px;\n`;\n\nexport const EventWrapper = styled.div`\n  flex: 1 1 0%;\n  border-right: 1px solid transparent;\n`;\n\nexport const OneEventWrapper = styled.div`\n  position: absolute;\n  height: 24px;\n  width: 14.29%;\n  z-index: 2;\n`;\n\nexport const OneEvent = styled.div`\n  height: 22px;\n  padding: 0 8px;\n  line-height: 20px;\n  font-size: 12px;\n  border-radius: 4px;\n  overflow: hidden;\n  display: flex;\n  transition: background-color 100ms linear;\n  &:hover {\n    background-color: var(--secondary-bg-hover);\n  }\n  cursor: pointer;\n`;\n","export const DAYS = ['일', '월', '화', '수', '목', '금', '토'];\n\nexport const TIMES = [\n  '',\n  '오전 1시',\n  '오전 2시',\n  '오전 3시',\n  '오전 4시',\n  '오전 5시',\n  '오전 6시',\n  '오전 7시',\n  '오전 8시',\n  '오전 9시',\n  '오전 10시',\n  '오전 11시',\n  '오후 12시',\n  '오후 1시',\n  '오후 2시',\n  '오후 3시',\n  '오후 4시',\n  '오후 5시',\n  '오후 6시',\n  '오후 7시',\n  '오후 8시',\n  '오후 9시',\n  '오후 10시',\n  '오후 11시',\n];\n\nexport const SECOND = 1000;\nexport const MINUTE = 60 * SECOND;\nexport const HOUR = 60 * MINUTE;\nexport const ONE_HOUR_HEIGHT_PIXELS = 48;\n","import querystring from 'querystring';\n\ninterface Props {\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE';\n  body?: { id?: number; title?: string; start?: number; end?: number };\n  callback?: Function;\n  finalCb?: Function;\n  qs?: {\n    start: number;\n    end: number;\n  };\n}\n\nexport default {\n  fetch: ({ method, body, callback, finalCb, qs }: Props) => {\n    const queries = qs ? `${querystring.stringify(qs)}` : '';\n    fetch(`${process.env.REACT_APP_SERVER_URL}/events?${queries}`, {\n      method,\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body),\n    })\n      .then(response => response.json())\n      .then(body => {\n        if (body.error) {\n          alert(body.error);\n        } else {\n          if (callback) callback(body);\n        }\n        if (finalCb) finalCb();\n      })\n      .catch(error => alert(error.message));\n  },\n};\n","import React, { Dispatch, SetStateAction, useState } from 'react';\nimport { FiberManualRecord } from '@material-ui/icons';\nimport moment, { Moment } from 'moment';\nimport { Event } from '../types/Event';\nimport transformEventForCalendar from '../util/transformEventForCalendar';\nimport {\n  CalendarWrapper,\n  DayText,\n  Day,\n  DaysRow,\n  Wrapper,\n  Weeks,\n  OneWeek,\n  DateTitle,\n  DateTitleWrapper,\n  DateTitleText,\n  EventsWrapper,\n  EventsInnerWrapper,\n  EventWrapper,\n  OneEventWrapper,\n  OneEvent,\n} from './MonthView.styled';\nimport { DAYS } from '../constants';\nimport fetchService from '../services/fetch.service';\n\ninterface Props {\n  date: Moment;\n  events: Event[];\n  handleEventClick: (e: Event) => void;\n  openPopupForNewEvent: (unixtime: number) => void;\n  setReadyToFetch: Dispatch<SetStateAction<boolean>>;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n}\n\n/**\n * 캘린더에 쓸 Week [], dates [] 생성.\n * ex) 4주면 [['1', '2'...], [...], [..], [..]]\n */\nexport const makeDatesForMonth = (date: Moment, eventsObj: any) => {\n  const weeks: {\n    dateTitle: string; // 몇 월 몇 일인지\n    unixtime: number;\n    isThisMonth: boolean; // 이 날이 보고 있는 달인지 지난 달 말인지 다음 달 초인지\n    events: []; // 이 날의 이벤트들\n  }[][] = [];\n\n  const heights: number[] = [];\n\n  const firstDate = moment(date)\n    .startOf('month')\n    .startOf('week');\n  const lastDate = moment(date)\n    .endOf('month')\n    .endOf('week');\n\n  let week = 0;\n  while (firstDate.isSameOrBefore(lastDate)) {\n    const m = firstDate.month();\n    const d = firstDate.date();\n    let isThisMonth = false;\n\n    // 전 달 혹은 다음 달인 경우 week을 계산하지 않음\n    // 현재 8월인데 7월 마지막 주를 계산에 넣게 되면 0 번째 week이어야 하는데\n    // 5번째 week으로 계산함\n    if (m === date.month()) {\n      week =\n        firstDate.week() -\n        moment(firstDate)\n          .startOf('month')\n          .week();\n      if (week === -48) week = 49; // 12월 마지막 주 예외처리\n      isThisMonth = true;\n    }\n\n    // 주 생성\n    if (!weeks[week]) {\n      weeks[week] = [];\n      heights[week] = 0;\n    }\n\n    // 해당 날짜 이벤트 찾아오기\n    const events = (eventsObj[m] && eventsObj[m][d]) || [];\n\n    // 일 오브젝트 생성\n    const oneDate = {\n      dateTitle: firstDate.date() === 1 ? `${m + 1}월 ${firstDate.date()}일` : `${firstDate.date()}`,\n      isThisMonth,\n      events,\n      unixtime: firstDate.unix() * 1000,\n    };\n\n    // 수동으로 element에 height em을 주기 위함\n    if (events.length && heights[week] < events.length) {\n      heights[week] = events.length;\n    }\n\n    // 주에 일 추가\n    weeks[week][firstDate.day()] = oneDate;\n\n    firstDate.add(1, 'day');\n  }\n\n  return { weeks, heights };\n};\n\nconst MonthView: React.FC<Props> = ({ date, events, handleEventClick, openPopupForNewEvent, setReadyToFetch , setIsLoading}) => {\n  const eventsObj = transformEventForCalendar(events);\n  const { weeks, heights } = makeDatesForMonth(date, eventsObj);\n  const [draggingEvent, setDraggingEvent] = useState<any>(); // event object\n\n  const handleDateClick = (e: React.SyntheticEvent, unixtime: number) => {\n    if (e.currentTarget === e.target) {\n      openPopupForNewEvent(unixtime);\n    }\n  };\n\n  const handleDragStart = (e: React.DragEvent, event: Event) => {\n    e.dataTransfer.setData('text', '');\n    setDraggingEvent(event);\n  };\n\n  const handleDragEnter = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.currentTarget.classList.add('droppable');\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('droppable');\n  };\n\n  const handleDrop = (e: React.DragEvent, droppedDateUnixtime: number) => {\n    e.currentTarget.classList.remove('droppable');\n\n    const date = new Date(droppedDateUnixtime);\n    const event = draggingEvent;\n    const differenceStartEnd = event.end - event.start;\n\n    const start = new Date(event.start);\n    start.setFullYear(date.getFullYear());\n    start.setMonth(date.getMonth());\n    start.setDate(date.getDate());\n\n    setIsLoading(true);\n    fetchService.fetch({\n      method: 'PUT',\n      body: {\n        id: event.id,\n        title: event.title,\n        start: start.getTime(),\n        end: start.getTime() + differenceStartEnd,\n      },\n      callback: () => setReadyToFetch(true),\n    });\n  };\n\n  return (\n    <Wrapper>\n      <CalendarWrapper>\n        <DaysRow>\n          {DAYS.map(day => (\n            <Day key={day}>\n              <DayText>{day}</DayText>\n            </Day>\n          ))}\n        </DaysRow>\n        {weeks.map((week, weekIndex) => (\n          <Weeks key={weekIndex}>\n            <OneWeek>\n              {week.map((date, index) => (\n                <DateTitleWrapper\n                  data-testid={`TW-${new Date(date.unixtime).getMonth()}-${new Date(date.unixtime).getDate()}`}\n                  onDragOver={e => e.preventDefault()}\n                  onDrop={e => handleDrop(e, date.unixtime)}\n                  onDragEnter={handleDragEnter}\n                  onDragLeave={handleDragLeave}\n                  onClick={mouseEvent => handleDateClick(mouseEvent, date.unixtime)}\n                  key={index}>\n                  <DateTitle>\n                    <DateTitleText className={date.isThisMonth ? 'this-month' : ''}>{date.dateTitle}</DateTitleText>\n                  </DateTitle>\n                </DateTitleWrapper>\n              ))}\n            </OneWeek>\n\n            <EventsWrapper>\n              <EventsInnerWrapper style={{ height: `${heights[weekIndex]}em` }}>\n                {week.map((date, index) => (\n                  <EventWrapper onClick={mouseEvent => handleDateClick(mouseEvent, date.unixtime)} key={index}>\n                    {date.events.map((event: any, index) => (\n                      <OneEventWrapper\n                        data-testid={`${new Date(date.unixtime).getMonth()}-${new Date(date.unixtime).getDate()}-${index}`}\n                        onDragStart={(e) => handleDragStart(e, event)}\n                        draggable\n                        key={event.id}\n                        onClick={() => handleEventClick(event)}\n                        style={{ top: `${index}em` }}>\n                        <OneEvent data-testid=\"title\">\n                          <FiberManualRecord fontSize=\"small\" color=\"secondary\" />\n                          {event.startTimeString} {event.title}\n                        </OneEvent>\n                      </OneEventWrapper>\n                    ))}\n                  </EventWrapper>\n                ))}\n              </EventsInnerWrapper>\n            </EventsWrapper>\n          </Weeks>\n        ))}\n      </CalendarWrapper>\n    </Wrapper>\n  );\n};\n\nexport default MonthView;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n`;\n\nexport const UpperWrapper = styled.div`\n  display: flex;\n  flex: none;\n`;\n\nexport const LeftEmpty = styled.div`\n  white-space: nowrap;\n  display: flex;\n  flex: none;\n  flex-direction: column;\n`;\n\nexport const LeftEmptyInner = styled.div`\n  flex: 1;\n  margin-left: 1px;\n  min-width: 52px;\n`;\n\nexport const DateAndNumberWrapper = styled.div`\n  margin-left: -1px;\n  display: flex;\n  flex: 1 1 auto;\n  flex-direction: column;\n  // overflow: hidden;\n  position: relative;\n`;\n\nexport const DateAndNumberEmpty = styled.div`\n  position: absolute;\n  top: 80px;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  flex: none;\n  pointer-events: none;\n`;\n\nexport const DateAndNumberEmptyTwo = styled.div`\n  display: flex;\n  padding-right: 8px;\n  height: 100%;\n  overflow: hidden;\n  overflow-x: scroll;\n`;\n\nexport const DateAndNumberEmptyShort = styled.div`\n  width: 9px;\n  min-width: 9px;\n`;\n\nexport const DateAndNumberEmptyLong = styled.div`\n  min-width: calc(100% - 18px);\n  flex: none;\n  display: inline-flex;\n  vertical-align: top;\n  padding-right: 8px;\n`;\n\nexport const DateAndNumberEmptyLongContent = styled.div`\n  flex: 1 0 68px;\n  min-width: 68px;\n  padding-right: 13px;\n  position: relative;\n  overflow: visible;\n  display: flex;\n  z-index: 1;\n`;\n\nexport const DateAndNumberRow = styled.div`\n  height: 84px;\n  display: flex;\n  flex: none;\n  overflow: hidden;\n`;\n\nexport const DateAndNumberRowPresentation = styled.div`\n  flex: 1 1 auto;\n  display: flex;\n  overflow: hidden;\n  // overflow-x: scroll;\n`;\n\nexport const DateAndNumberRowPresentationEmpty = styled.div`\n  width: 9px;\n  min-width: 9px;\n`;\n\nexport const DateAndNumberRowPresentationColumn = styled.div`\n  width: 81px;\n  min-width: 81px;\n  flex: 1 0 auto;\n  overflow: hidden;\n  box-sizing: border-box;\n  display: flex;\n`;\n\nexport const DateAndNumberRowPresentationColumnEmpty = styled.div`\n  // border-left: #dadce0 1px solid;\n  bottom: 0;\n  height: 20px;\n  margin-left: -1px;\n  position: absolute;\n`;\n\nexport const DateAndNumberRowPresentationColumnH2 = styled.h2`\n  font-weight: 400;\n  margin: 0;\n  text-align: center;\n  width: 100%;\n  font-size: 1.5em;\n`;\n\nexport const DateAndNumberRowPresentationColumnDay = styled.div`\n  line-height: 32px;\n  position: relative;\n  z-index: 2;\n  color: #70757a;\n  font-size: 11px;\n  font-weight: 500;\n  letter-spacing: 0.8px;\n  margin-left: 0;\n  margin-top: 8px;\n  text-indent: 0.8px;\n  text-transform: uppercase;\n`;\n\nexport const DateAndNumberRowPresentationColumnNumber = styled.div`\n  position: relative;\n  outline: none;\n  color: #3c4043;\n  z-index: 2;\n  font-size: 26px;\n  letter-spacing: -2.6px;\n  text-indent: -2.6px;\n  font-variant: tabular-nums;\n  font-feature-settings: 'tnum' 1;\n  border-radius: 100%;\n  line-height: 46px;\n  height: 46px;\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: -8px;\n  width: 46px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const DateAndNumberRowPresentationColumnEmptyEnd = styled.div`\noverflow: scroll\nvisibility: hidden;\nflex: none;\n`;\n\nexport const LowerWrapper = styled.div`\n  flex: 1 1 60%;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  // overflow: hidden;\n`;\n\nexport const LowerInnerWrppaer = styled.div`\n  // overflow: hidden;\n  align-items: stretch;\n  display: flex;\n  flex: 1 1 auto;\n`;\n\nexport const TimeWrapper = styled.div`\n  height: auto;\n  // overflow-y: hidden;\n  flex: none;\n  display: flex;\n  align-items: flex-start;\n  min-width: 40px;\n`;\n\nexport const TimeInnner = styled.div`\n  position: relative;\n  background-color: #fff;\n  box-sizing: border-box;\n  margin-left: auto;\n`;\n\nexport const TimeInnerEmpty = styled.div`\n  height: 20px;\n  display: block;\n  visibility: hidden;\n  overflow-y: hidden;\n  max-width: 80px;\n`;\n\nexport const Time = styled.div`\n  position: relative;\n  height: 48px;\n  padding-right: 8px;\n  text-align: right;\n`;\n\nexport const TimeString = styled.span`\n  display: block;\n  position: relative;\n  top: -6px;\n  color: #70757a;\n  font-size: 10px;\n  text-align: right;\n`;\n\nexport const EventWrapper = styled.div`\n  display: flex;\n  align-items: flex-start;\n  flex: 1 1 auto;\n`;\n\nexport const EventInner = styled.div`\n  min-width: 100%;\n  flex: none;\n  display: inline-flex;\n  vertical-align: top;\n  // overflow: hidden;\n  position: relative;\n`;\n\nexport const EventHorizontalLineWrapper = styled.div`\n  border-top: #dadce0 apx solid;\n`;\n\nexport const EventHorizontalLine = styled.div`\n  height: 48px;\n\n  &::after {\n    content: '';\n    border-bottom: #dadce0 1px solid;\n    position: absolute;\n    width: 100%;\n    margin-top: -1px;\n    z-index: 3;\n    pointer-events: none;\n  }\n`;\n\nexport const EventInnerEmptyLeft = styled.div`\n  width: 8px;\n  border-right: #dadce0 1px solid;\n`;\n\nexport const EventColumnWrapper = styled.div`\n  width: 81px;\n  min-width: 81px;\n  flex: 1 0 auto;\n  border-right: #dadce0 1px solid;\n  position: relative;\n  padding-right: 12px;\n  box-sizing: border-box;\n  outline: none;\n  &:last-child {\n    border-right: white 1px solid;\n    overflow: visible;\n  }\n`;\n\nexport const EventColumnBox = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n`;\n\nexport const EventColumnPresentation = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const EventButton = styled.div`\n  position: absolute;\n  border-radius: 4px;\n  margin-left: -1px;\n  margin-top: 1px;\n  outline: none;\n  cursor: pointer;\n  left: 0%;\n  width: 100%;\n  z-index: 4;\n  background-color: rgb(66, 133, 244);\n  border-color: rgb(66, 133, 244);\n\n  &::before {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    content: '';\n    box-sizing: border-box;\n    border-radius: 4px;\n    pointer-events: none;\n    opacity: 0;\n    transition: opacity 100ms linear;\n    box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2);\n  }\n\n  &::after {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100 %;\n    height: 100%;\n    content: '';\n    box-sizing: border-box;\n    border-radius: 4px;\n    pointer-events: none;\n  }\n`;\n\nexport const EventButtonContent = styled.div`\n  max-height: 100%;\n  overflow: hidden;\n  padding-left: 8px;\n  text-align: left;\n  user-select: none;\n`;\n\nexport const EventButtonContentTitle = styled.div`\n  font-weight: 400;\n  letter-spacing: 0.4px;\n  padding-top: 4px;\n  white-space: normal;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  color: #fff;\n  font-size: 12px;\n  line-height: 15px;\n  overflow: hidden;\n  text-align: left;\n`;\n\nexport const EventButtonContentTitleText = styled.span`\n  font-weight: 400;\n  letter-spacing: 0.4px;\n  white-space: normal;\n  overflow-wrap: break-word;\n`;\n\nexport const EventButtonContentTime = styled.div`\n  max-width: 100%;\n  white-space: nowrap;\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  letter-spacing: 0.1px;\n  line-height: 15px;\n  overflow: hidden;\n`;\n\nexport const EventButtonContentEnd = styled.div`\n  bottom: 0;\n  position: absolute;\n  left: 0;\n  right: 0;\n  height: 50%;\n  max-height: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 5004;\n  user-select: none;\n`;\n","import React, { Dispatch, SetStateAction, useState } from 'react';\nimport moment, { Moment } from 'moment';\nimport { Event } from '../types/Event';\nimport {\n  Container,\n  UpperWrapper,\n  LeftEmpty,\n  LeftEmptyInner,\n  DateAndNumberWrapper,\n  DateAndNumberEmpty,\n  DateAndNumberEmptyTwo,\n  DateAndNumberEmptyShort,\n  DateAndNumberEmptyLong,\n  DateAndNumberRow,\n  DateAndNumberEmptyLongContent,\n  DateAndNumberRowPresentationEmpty,\n  DateAndNumberRowPresentation,\n  DateAndNumberRowPresentationColumn,\n  DateAndNumberRowPresentationColumnEmpty,\n  DateAndNumberRowPresentationColumnH2,\n  DateAndNumberRowPresentationColumnNumber,\n  DateAndNumberRowPresentationColumnEmptyEnd,\n  DateAndNumberRowPresentationColumnDay,\n  LowerWrapper,\n  LowerInnerWrppaer,\n  TimeWrapper,\n  TimeInnner,\n  Time,\n  TimeString,\n  TimeInnerEmpty,\n  EventWrapper,\n  EventInner,\n  EventHorizontalLineWrapper,\n  EventHorizontalLine,\n  EventInnerEmptyLeft,\n  EventColumnWrapper,\n  EventColumnBox,\n  EventColumnPresentation,\n  EventButton,\n  EventButtonContent,\n  EventButtonContentTitle,\n  EventButtonContentTitleText,\n  EventButtonContentTime,\n  EventButtonContentEnd,\n} from './WeekView.styled';\nimport transformEventForCalendar from '../util/transformEventForCalendar';\nimport { HOUR, DAYS, TIMES, ONE_HOUR_HEIGHT_PIXELS } from '../constants';\nimport fetchService from '../services/fetch.service';\n\ninterface Props {\n  date: Moment;\n  events: Event[];\n  handleEventClick: (e: Event) => void;\n  openPopupForNewEvent: (unixtime: number) => void;\n  setReadyToFetch: Dispatch<SetStateAction<boolean>>;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n}\n\nexport const makeDatesForWeek = (date: Moment, eventsObj: any) => {\n  // 일자 구하기\n  const week: {\n    date: string;\n    events: any[];\n    unixtime: number;\n  }[] = [];\n\n  // 주 시작 날짜\n  const firstDate = moment(date).startOf('week');\n\n  // 각 요일에 날짜, 이벤트 담기\n  for (let i = 0; i < 7; i++) {\n    const m = firstDate.month();\n    const d = firstDate.date();\n\n    // 해당 날짜 이벤트 찾아오기\n    const events = (eventsObj[m] && eventsObj[m][d]) || [];\n\n    week.push({\n      date: `${firstDate.date()}`,\n      events,\n      unixtime: firstDate.unix() * 1000,\n    });\n\n    firstDate.add(1, 'day');\n  }\n\n  return week;\n};\n\nlet timeout: number | undefined;\n\nconst WeekView: React.FC<Props> = ({ date, events, handleEventClick, openPopupForNewEvent, setReadyToFetch, setIsLoading }) => {\n  const eventsObj = transformEventForCalendar(events);\n  const week = makeDatesForWeek(date, eventsObj);\n  const [isDragging, setIsDragging] = useState(false);\n  const [draggingEvent, setDraggingEvent] = useState<any>(); // event object\n  const [draggingDayIndex, setDraggingDayIndex] = useState(-1);\n  const [draggingTop, setDraggingTop] = useState(0);\n\n  const handleDateClick = (e: React.MouseEvent, unixtime: number) => {\n    if (e.currentTarget === e.target) {\n      openPopupForNewEvent(unixtime + HOUR * Math.floor(e.nativeEvent.offsetY / ONE_HOUR_HEIGHT_PIXELS));\n    }\n  };\n\n  const handleDragStart = (e: React.DragEvent, event: Event) => {\n    e.dataTransfer.setData('text', '');\n    setDraggingEvent(event);\n    setIsDragging(true);\n  };\n\n  const handleDragOver = (e: React.DragEvent, dayIndex: number) => {\n    e.preventDefault();\n    if (timeout === undefined && e.target === e.currentTarget) {\n      setDraggingDayIndex(dayIndex);\n      setDraggingTop(Math.floor(e.nativeEvent.offsetY / ONE_HOUR_HEIGHT_PIXELS) * ONE_HOUR_HEIGHT_PIXELS);\n\n      timeout = setTimeout(() => (timeout = undefined), 100);\n    }\n  };\n\n  const handleDragEnd = () => {\n    setIsDragging(false);\n\n    if (draggingDayIndex === -1) {\n      return;\n    }\n\n    const event = draggingEvent;\n    const differenceStartEnd = event.end - event.start;\n\n    const startDate = moment(event.start);\n    startDate.day(draggingDayIndex);\n    startDate.hour(draggingTop / ONE_HOUR_HEIGHT_PIXELS);\n\n    setDraggingDayIndex(-1);\n    setDraggingEvent(undefined);\n    setDraggingTop(0);\n\n    setIsLoading(true);\n    fetchService.fetch({\n      method: 'PUT',\n      body: {\n        id: event.id,\n        title: event.title,\n        start: startDate.unix() * 1000,\n        end: startDate.unix() * 1000 + differenceStartEnd,\n      },\n      callback: () => setReadyToFetch(true),\n    });\n  };\n\n  return (\n    <Container>\n      <UpperWrapper>\n        <LeftEmpty>\n          <LeftEmptyInner></LeftEmptyInner>\n        </LeftEmpty>\n        <DateAndNumberWrapper>\n          <DateAndNumberEmpty>\n            <DateAndNumberEmptyTwo>\n              <DateAndNumberEmptyShort />\n              <DateAndNumberEmptyLong>\n                {DAYS.map((_, index) => (\n                  <DateAndNumberEmptyLongContent key={index} />\n                ))}\n              </DateAndNumberEmptyLong>\n            </DateAndNumberEmptyTwo>\n          </DateAndNumberEmpty>\n          <DateAndNumberRow>\n            <DateAndNumberRowPresentation>\n              <DateAndNumberRowPresentationEmpty />\n              {DAYS.map((day, index) => (\n                <DateAndNumberRowPresentationColumn key={index}>\n                  <DateAndNumberRowPresentationColumnEmpty />\n                  <DateAndNumberRowPresentationColumnH2>\n                    <DateAndNumberRowPresentationColumnDay>{day}</DateAndNumberRowPresentationColumnDay>\n                    <DateAndNumberRowPresentationColumnNumber>{week[index].date}</DateAndNumberRowPresentationColumnNumber>\n                  </DateAndNumberRowPresentationColumnH2>\n                </DateAndNumberRowPresentationColumn>\n              ))}\n              <DateAndNumberRowPresentationColumnEmptyEnd />\n            </DateAndNumberRowPresentation>\n          </DateAndNumberRow>\n        </DateAndNumberWrapper>\n      </UpperWrapper>\n\n      <LowerWrapper>\n        <LowerInnerWrppaer>\n          <TimeWrapper>\n            <TimeInnner>\n              {TIMES.map(time => (\n                <Time key={time}>\n                  <TimeString>{time}</TimeString>\n                </Time>\n              ))}\n              <TimeInnerEmpty />\n            </TimeInnner>\n          </TimeWrapper>\n\n          <EventWrapper>\n            <EventInner>\n              <EventHorizontalLineWrapper>\n                {TIMES.map((time, index) => (\n                  <EventHorizontalLine key={index} />\n                ))}\n              </EventHorizontalLineWrapper>\n              <EventInnerEmptyLeft />\n\n              {week.map((date, dayIndex) => (\n                <EventColumnWrapper key={dayIndex}>\n                  <EventColumnBox\n                    data-testid={`Date-${date.date}`}\n                    onDragOver={e => handleDragOver(e, dayIndex)}\n                    onClick={mouseEvent => handleDateClick(mouseEvent, date.unixtime)}\n                  />\n                  <EventColumnPresentation\n                    onDragOver={e => handleDragOver(e, dayIndex)}\n                    onClick={mouseEvent => handleDateClick(mouseEvent, date.unixtime)}>\n                    {date.events.map((event, eventIndex) => (\n                      <EventButton\n                        data-testid={`${date.date}-${eventIndex}`}\n                        onDragStart={(e) => handleDragStart(e, event)}\n                        onDragEnd={handleDragEnd}\n                        draggable\n                        key={event.id}\n                        style={{\n                          top: `${event.top}px`,\n                          height: `${event.height}px`,\n                        }}\n                        onClick={() => handleEventClick(event)}>\n                        <EventButtonContent>\n                          <EventButtonContentTitle>\n                            <EventButtonContentTitleText data-testid=\"title\">{event.title}</EventButtonContentTitleText>\n                            <EventButtonContentTime data-testid=\"time\">\n                              {`${event.startTimeString}~${event.endTimeString}`}\n                            </EventButtonContentTime>\n                            <EventButtonContentEnd />\n                          </EventButtonContentTitle>\n                        </EventButtonContent>\n                      </EventButton>\n                    ))}\n\n                    {isDragging && dayIndex === draggingDayIndex && (\n                      <EventButton\n                        style={{\n                          top: `${draggingTop}px`,\n                          height: `${draggingEvent.height}px`,\n                          opacity: 0.7,\n                        }}>\n                        <EventButtonContent>\n                          <EventButtonContentTitle>\n                            <EventButtonContentTitleText>{draggingEvent.title}</EventButtonContentTitleText>\n                            <EventButtonContentTime>{`${draggingEvent.startTimeString}~${draggingEvent.endTimeString}`}</EventButtonContentTime>\n                            <EventButtonContentEnd />\n                          </EventButtonContentTitle>\n                        </EventButtonContent>\n                      </EventButton>\n                    )}\n                  </EventColumnPresentation>\n                </EventColumnWrapper>\n              ))}\n            </EventInner>\n          </EventWrapper>\n        </LowerInnerWrppaer>\n      </LowerWrapper>\n    </Container>\n  );\n};\n\nexport default WeekView;\n","import { useEffect, useState } from 'react';\nimport fetchService from '../services/fetch.service';\nimport { Event } from '../types/Event';\nimport moment, { Moment } from 'moment';\n\nconst useEventService = (dates: Moment, mode: 'month' | 'week') => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [events, setEvents] = useState<Event[]>([]);\n  const [readyToFetch, setReadyToFetch] = useState(true);\n\n  const firstDate = moment(dates).startOf(mode);\n  const lastDate = moment(dates).endOf(mode);\n  if (mode === 'month') {\n    // ex) when we fetch August, fetch July's late days and September's early days\n    firstDate.startOf('week');\n    lastDate.endOf('week');\n  }\n\n  const start = firstDate.unix() * 1000;\n  const end = lastDate.unix() * 1000;\n\n  useEffect(() => setReadyToFetch(true), [start, end]);\n\n  useEffect(() => {\n    if (readyToFetch) {\n      setIsLoading(true);\n      fetchService.fetch({\n        method: 'GET',\n        callback: setEvents,\n        finalCb: () => setIsLoading(false),\n        qs: {\n          start,\n          end,\n        },\n      });\n      setReadyToFetch(false);\n    }\n  }, [readyToFetch, start, end]);\n\n  return {\n    isLoading,\n    setIsLoading,\n    events,\n    setReadyToFetch,\n  };\n};\n\nexport default useEventService;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const Container = styled.div`\n  display: flex;\n  height: 50px;\n  justify-content: space-around;\n  align-items: center;\n  border-bottom: var(--border) 1px solid;\n`;\n\nexport const TitleWrapper = styled.div`\n  display: flex;\n  min-width: 200px;\n`;\n\nexport const Title = styled.div`\n  font-size: 1.5em;\n  color: var(--main-text);\n`;\n\nexport const ArrowWrapper = styled.div`\n  margin-right: 20px;\n  display: flex;\n  align-items: center;\n`;\n\nexport const MonthWeekButton = styled(Link)`\n  color: var(--main-text);\n  border: #000 1px solid;\n  text-decoration: none;\n  padding: 5px;\n  &:first-child {\n    border-right: none;\n  }\n  &.selected {\n    background-color: var(--primary-bg);\n    color: var(--primary-text);\n  }\n`;\n","import React, { Dispatch, SetStateAction } from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router-dom';\nimport { ArrowBackIos, ArrowForwardIos } from '@material-ui/icons';\nimport { Moment } from 'moment';\nimport { History } from 'history';\nimport moment from 'moment';\nimport { Container, TitleWrapper, ArrowWrapper, Title, MonthWeekButton } from './Controller.styled';\n\ninterface ControllerProps {\n  viewType: 'month' | 'week';\n  date: Moment;\n  setDate: Dispatch<SetStateAction<Moment>>;\n  history: History;\n}\n\nexport const makeTitle = ({ viewType, date }: { viewType: 'month' | 'week'; date: Moment }) => {\n  let title = `${date.year()}년 ${date.month() + 1}월`;\n  if (viewType === 'week') {\n    const startMonth = moment(date)\n      .startOf('week')\n      .month();\n    const endMonth = moment(date)\n      .endOf('week')\n      .month();\n    if (startMonth !== endMonth) {\n      title = `${date.year()}년 ${startMonth + 1}월 - ${endMonth + 1}월`;\n    }\n  }\n  return title;\n};\n\nconst Controller: React.FC<RouteComponentProps & ControllerProps> = ({ viewType, date, setDate, history }) => {\n  const handleArrowClick = (arrow: 'add' | 'subtract') => () => {\n    const newDate = moment(date);\n    // add or subtract 1 month, week\n    newDate[arrow](1, viewType === 'month' ? 'M' : 'w');\n\n    // month 이동 후 그 달의 첫 날로\n    if (viewType === 'month') {\n      newDate.startOf('month');\n    }\n    setDate(newDate);\n    history.push(`/${viewType}/${newDate.year()}/${newDate.month() + 1}/${newDate.date()}`);\n  };\n\n  return (\n    <Container>\n      <TitleWrapper>\n        <ArrowWrapper>\n          <ArrowBackIos data-testid=\"left-arrow\" style={{ cursor: 'pointer' }} onClick={handleArrowClick('subtract')} />\n          <ArrowForwardIos data-testid=\"right-arrow\" style={{ cursor: 'pointer' }} onClick={handleArrowClick('add')} />\n        </ArrowWrapper>\n        <Title>{makeTitle({ viewType, date })}</Title>\n      </TitleWrapper>\n\n      <div>\n        <MonthWeekButton\n          className={viewType === 'month' ? 'selected' : ''}\n          data-testid=\"month-view\"\n          to={`/month/${date.year()}/${date.month() + 1}/${date.date()}`}>\n          Month\n        </MonthWeekButton>\n        <MonthWeekButton\n          className={viewType === 'week' ? 'selected' : ''}\n          data-testid=\"week-view\"\n          to={`/week/${date.year()}/${date.month() + 1}/${date.date()}`}>\n          Week\n        </MonthWeekButton>\n      </div>\n    </Container>\n  );\n};\n\nexport default withRouter(Controller);\n","import styled from 'styled-components';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\n\nexport const EventPopupWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  background: white;\n  padding: 2rem 1rem;\n  // width: 70%;\n  align-items: center;\n  border-radius: 10px;\n  animation: showup 0.5s;\n  border: #000 1px solid;\n\n  @keyframes showup {\n    from {\n      opacity: 0;\n      visibility: hidden;\n    }\n    to {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n`;\n\nexport const Input = styled.input`\n  width: 100%;\n  padding: 5px;\n`;\n\nexport const DatePickerWrapper = styled.div`\n  display: flex;\n  margin-top: 10px;\n`;\n\nexport const DatePickerStyled = styled(DatePicker)`\n  border: none;\n  border-bottom: #000 1px solid;\n  padding: 5px;\n  margin: 0 5px;\n  text-align: center;\n`;\n\nexport const ButtonWrapper = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-top: 10px;\n`;\n\nexport const Button = styled.button`\n  margin-left: 10px;\n  color: var(--main-text);\n  background-color: #fff;\n  border: #000 1px solid;\n  padding: 5px;\n  cursor: pointer;\n`;\n\nexport const Dim = styled.div`\n  background: rgba(0, 0, 0, 0.3);\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n`;\n","import React, { useState, Dispatch, SetStateAction, useCallback } from 'react';\nimport { Event } from '../types/Event';\nimport fetchService from '../services/fetch.service';\nimport { Dim, EventPopupWrapper, Input, DatePickerWrapper, DatePickerStyled, ButtonWrapper, Button } from './EventPopup.styled';\n\ninterface EventPopupProps {\n  viewType: string;\n  popupMode: string;\n  selectedEvent?: Event;\n  closePopup: () => void;\n  setReadyToFetch: Dispatch<SetStateAction<boolean>>;\n  selectedTime: Date;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n}\n\nconst EventPopup: React.FC<EventPopupProps> = ({ viewType, popupMode, selectedEvent, closePopup, setReadyToFetch, selectedTime, setIsLoading }) => {\n  const handleDimClick = useCallback((e: React.SyntheticEvent) => e.currentTarget === e.target && closePopup(), [closePopup]);\n\n  const [title, setTitle] = useState(selectedEvent ? selectedEvent.title : '');\n  const handleTitleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => setTitle(e.target.value), [setTitle]);\n\n  let initialStart, initialEnd;\n  if (popupMode === 'update' && selectedEvent) {\n    initialStart = new Date(selectedEvent.start);\n    initialEnd = new Date(selectedEvent.end);\n  } else {\n    // 월/주 보기에서, 월은 현재 시간, 주는 선택한 시간으로 팝업 시간 설정\n    initialStart = selectedTime;\n    if (viewType === 'month') initialStart.setHours(new Date().getHours() + 1);\n    initialEnd = new Date(initialStart);\n    initialEnd.setHours(initialStart.getHours() + 1);\n  }\n\n  const [startDate, setStartDate] = useState(initialStart);\n  const handleStartPickerChange = useCallback((date: Date) => setStartDate(date), [setStartDate]);\n\n  const [endDate, setEndDate] = useState(initialEnd);\n  const handleEndPickerChange = useCallback((date: Date) => setEndDate(date), [setEndDate]);\n\n  // 삭제, 저장 핸들러\n  const callback = useCallback(() => {\n    setReadyToFetch(true);\n    closePopup();\n  }, [closePopup, setReadyToFetch]);\n\n  const handleRemove = () => {\n    if (selectedEvent) {\n      setIsLoading(true);\n      fetchService.fetch({\n        method: 'DELETE',\n        body: { id: selectedEvent.id },\n        callback,\n      });\n    }\n  };\n\n  const handleSave = () => {\n    setIsLoading(true);\n    fetchService.fetch({\n      method: popupMode === 'update' ? 'PUT' : 'POST',\n      body: {\n        id: selectedEvent && selectedEvent.id,\n        title: title || '(제목 없음)',\n        start: startDate.getTime(),\n        end: endDate.getTime(),\n      },\n      callback,\n    });\n  };\n\n  return (\n    <Dim data-testid=\"dim\" onClick={handleDimClick}>\n      <EventPopupWrapper>\n        <Input data-testid=\"title\" value={title} onChange={handleTitleChange} placeholder=\"일정의 제목을 입력해주세요\" />\n        <DatePickerWrapper data-testid=\"pickers\">\n          <DatePickerStyled\n            selected={startDate}\n            onChange={handleStartPickerChange}\n            selectsStart\n            startDate={startDate}\n            endDate={endDate}\n            showTimeSelect\n            timeFormat=\"h:mm aa\"\n            timeIntervals={60}\n            dateFormat=\"yyyy-MM-dd h:mm aa\"\n            timeCaption=\"시간\"\n            placeholderText=\"시작 날짜와 시간을 선택하세요\"\n          />{' '}\n          ~{' '}\n          <DatePickerStyled\n            selected={endDate}\n            onChange={handleEndPickerChange}\n            selectsEnd\n            startDate={startDate}\n            endDate={endDate}\n            showTimeSelect\n            timeFormat=\"h:mm aa\"\n            timeIntervals={60}\n            dateFormat=\"yyyy-MM-dd h:mm aa\"\n            timeCaption=\"시간\"\n            placeholderText=\"끝나는 날짜와 시간을 선택하세요\"\n          />\n        </DatePickerWrapper>\n\n        <ButtonWrapper>\n          <Button data-testid=\"cancel\" onClick={closePopup}>\n            취소\n          </Button>\n          {popupMode === 'update' && (\n            <Button data-testid=\"remove\" onClick={handleRemove}>\n              삭제\n            </Button>\n          )}\n          <Button data-testid=\"save\" onClick={handleSave}>\n            저장\n          </Button>\n        </ButtonWrapper>\n      </EventPopupWrapper>\n    </Dim>\n  );\n};\n\nexport default EventPopup;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst ModalPortal: React.FC = ({ children }) => {\n  const el = document.getElementById('modal');\n  return el ? ReactDOM.createPortal(children, el) : null;\n};\n\nexport default ModalPortal;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Portal from './Portal';\n\nconst Dim = styled.div`\nposition: fixed;\nleft: 0;\ntop: 0;\nheight: 100%;\nwidth: 100%;\ndisplay: flex;\nflex-direction: column;\nalign-items: center;\njustify-content: center;\nz-index: 1;\n`;\n\nconst LoadingCircle = styled.div`\n  display: inline-block;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  & div {\n    position: absolute;\n    width: 5px;\n    height: 5px;\n    background: grey;\n    border-radius: 50%;\n    animation: lds-default 1.2s linear infinite;\n  }\n  & div:nth-child(1) {\n    animation-delay: 0s;\n    top: 29px;\n    left: 53px;\n  }\n  & div:nth-child(2) {\n    animation-delay: -0.1s;\n    top: 18px;\n    left: 50px;\n  }\n  & div:nth-child(3) {\n    animation-delay: -0.2s;\n    top: 9px;\n    left: 41px;\n  }\n  & div:nth-child(4) {\n    animation-delay: -0.3s;\n    top: 6px;\n    left: 29px;\n  }\n  & div:nth-child(5) {\n    animation-delay: -0.4s;\n    top: 9px;\n    left: 18px;\n  }\n  & div:nth-child(6) {\n    animation-delay: -0.5s;\n    top: 18px;\n    left: 9px;\n  }\n  & div:nth-child(7) {\n    animation-delay: -0.6s;\n    top: 29px;\n    left: 6px;\n  }\n  & div:nth-child(8) {\n    animation-delay: -0.7s;\n    top: 41px;\n    left: 9px;\n  }\n  & div:nth-child(9) {\n    animation-delay: -0.8s;\n    top: 50px;\n    left: 18px;\n  }\n  & div:nth-child(10) {\n    animation-delay: -0.9s;\n    top: 53px;\n    left: 29px;\n  }\n  & div:nth-child(11) {\n    animation-delay: -1s;\n    top: 50px;\n    left: 41px;\n  }\n  & div:nth-child(12) {\n    animation-delay: -1.1s;\n    top: 41px;\n    left: 50px;\n  }\n\n  @keyframes lds-default {\n    0%,\n    20%,\n    80%,\n    100% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.5);\n    }\n  }\n`;\n\nconst Loading: React.FC = () => {\n  return (\n    <Portal>\n      <Dim>\n        <LoadingCircle>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n          <div></div>\n        </LoadingCircle>\n      </Dim>\n    </Portal>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { RouteComponentProps } from 'react-router-dom';\nimport moment, { Moment } from 'moment';\nimport { Event } from '../types/Event';\nimport MonthView from './MonthView';\nimport WeekView from './WeekView';\nimport useEventService from '../hooks/useEventService';\nimport Controller from './Controller';\nimport EventPopup from './EventPopup';\nimport Portal from '../util/Portal';\nimport Loading from '../util/Loading';\n\ninterface CalendarProps {\n  viewType: 'month' | 'week';\n  year?: string;\n  month?: string;\n  date?: string;\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n`;\n\nconst Calendar: React.FC<RouteComponentProps<CalendarProps>> = ({ match }) => {\n  const viewType = match.params.viewType || 'month';\n\n  // a date which user is looking\n  const initialDate: any = {};\n  if (match.params.date) {\n    // only for initilization of dates when it's the first open of this app\n    const { year, month, date } = match.params;\n    initialDate.y = Number(year);\n    initialDate.M = Number(month) - 1;\n    initialDate.d = Number(date);\n  }\n  const [date, setDate] = useState<Moment>(moment(initialDate));\n\n  // events\n  const { events, setReadyToFetch, isLoading, setIsLoading } = useEventService(date, viewType);\n\n  // popups\n  const [isPopupOpen, setIsPopupOpen] = useState(false);\n  const [popupMode, setPopupMode] = useState<'new' | 'update'>('new');\n  const [selectedTime, setSelectedTime] = useState<Date>(new Date());\n  const [selectedEvent, setSelectedEvent] = useState<Event>();\n  const closePopup = useCallback(() => {\n    setSelectedEvent(undefined);\n    setIsPopupOpen(false);\n  }, []);\n\n  const handleEventClick = (event: Event) => {\n    setSelectedEvent(event);\n    setPopupMode('update');\n    setIsPopupOpen(true);\n  };\n\n  const openPopupForNewEvent = (unixtime: number) => {\n    setSelectedTime(new Date(unixtime));\n    setPopupMode('new');\n    setIsPopupOpen(true);\n  };\n\n  return (\n    <Container>\n      <Controller viewType={viewType} setDate={setDate} date={date} />\n\n      {viewType === 'month' ? (\n        <MonthView\n          date={date}\n          events={events}\n          handleEventClick={handleEventClick}\n          openPopupForNewEvent={openPopupForNewEvent}\n          setIsLoading={setIsLoading}\n          setReadyToFetch={setReadyToFetch}\n        />\n      ) : (\n          <WeekView\n            date={date}\n            events={events}\n            handleEventClick={handleEventClick}\n            openPopupForNewEvent={openPopupForNewEvent}\n            setIsLoading={setIsLoading}\n            setReadyToFetch={setReadyToFetch}\n          />\n        )}\n\n      {isPopupOpen && (\n        <Portal>\n          <EventPopup\n            viewType={viewType}\n            selectedEvent={selectedEvent}\n            popupMode={popupMode}\n            closePopup={closePopup}\n            setIsLoading={setIsLoading}\n            setReadyToFetch={setReadyToFetch}\n            selectedTime={selectedTime}\n          />\n        </Portal>\n      )}\n      {isLoading && <Loading />}\n    </Container>\n  );\n};\n\nexport default Calendar;\n","import React from 'react';\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport 'moment/locale/ko';\nimport Calendar from './components/Calendar';\n\nconst App: React.FC = () => (\n  // <BrowserRouter basename=\"/calendar-client\">\n    <HashRouter>\n      <Switch>\n        <Route\n          exact\n          path={['/', '/:viewType(month|week)', '/:viewType(month|week)/:year/:month/:date']}\n          component={Calendar}\n        />\n        <Redirect from=\"*\" to=\"/\" />;\n    </Switch>\n    </HashRouter>\n  // </BrowserRouter>\n);\n\nexport default App;\n","import { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#757ce8',\n      main: '#3f50b5',\n      dark: '#002884',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#ff7961',\n      main: '#4285f4',\n      dark: '#ba000d',\n      contrastText: '#000',\n    },\n  },\n});\n\nReactDOM.render(\n  <MuiThemeProvider theme={theme}>\n    <App />\n  </MuiThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}